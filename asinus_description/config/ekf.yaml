### ekf config file ###
ekf_filter_node:
  ros__parameters:
    frequency: 30.0
    use_sim_time: true

    sensor_timeout: 0.2

    # ekf_localization_node and ukf_localization_node both use a 3D omnidirectional motion model. If this parameter is
    # set to true, no 3D information will be used in your state estimate. Use this if you are operating in a planar
    # environment and want to ignore the effect of small variations in the ground plane that might otherwise be detected
    # by, for example, an IMU. Defaults to false if unspecified.
    two_d_mode: true

    print_diagnostics: false 

    debug: false   

    publish_tf: true
    
    map_frame: map # Defaults to "map" if unspecified
    odom_frame: odom # Defaults to "odom" if unspecified
    base_link_frame: base_link # Defaults to "base_link" if unspecified
    world_frame: odom # Defaults to the value of odom_frame if unspecified

    transform_time_offset: 0.0
    transform_timeout: 0.0

    odom0: /diffbot_base_controller/odom

    odom0_config:
      [ true, true, false, 
        false, false, true,
        true,  false,  false, 
        false, false, true,
        false, false, false,]
   
    odom0_differential: false
    odom0_relative: false
    odom0_pose_rejection_threshold: 5.0
    odom0_twist_rejection_threshold: 1.0

    imu0: /imu
    imu0_config:
      [ false, false, false,
        false, false, false,
        false, false, false,
        true, true, true,
        false, false, false]

    
    imu0_queue_size: 4
    
    imu0_remove_gravitational_acceleration: true